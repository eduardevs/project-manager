{% extends 'base.html.twig' %}

{% block title %}Hello CarController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">

<table class="table">
        {% include "_search_data.html.twig" with {form: form ?? null} only %}

    <div class="flash-info">
        {% for fail in app.flashes('failed') %}
            {{ fail }}
        {% endfor %}
        {% for bravo in app.flashes('success') %}
            {{ bravo }}
        {% endfor %}
    </div>
        <thead>
            <tr>
                <th scope="col">id</th>
                <th scope="col">Name</th>
                <th scope="col">Price</th>
                <th scope="col">Category</th>
                <th scope="col">Details</th>
                <th scope="col">Update</th>
                <th scope="col">Delete</th>

            </tr>
        </thead>
        <tbody>
            {# {% if not users is same as([]) %} #}

            {% for car in cars %}
            <tr>
                <td>{{car.id}}</td>
                <td>{{car.name}}</td>
                <td>{{car.cost}}</td>
                <td>{{car.category ? car.category : 'not defined'}}</td>

                 <td>
                    <a href="{{path('app_single_car', { id: car.id })}}" class="btn btn-info">See details</a>
                    {# add button back from single page #}
                </td>

                <td>
                    <a href="{{path('app_edit_car', { id: car.id })}}" class="btn btn-success">Edit</a>

                </td>
                <td>
                    {{ include('admin/cars/_delete.html.twig') }}
                </td>

            </tr>
            {% endfor %}


        </tbody>


    </table>

</div>
{% endblock %}
